# Item System - 아이템 시스템 상세 기획

## 📋 문서 정보
- **작성일**: 2025-12-09
- **버전**: 1.1
- **대상**: 기획자, 디자이너
- **관련 문서**:
  - [Item_System_Technical.md](../Technical/Item_System_Technical.md) - 기술 문서
  - [Drop_System.md](Drop_System.md) - 드롭 시스템
  - [Shop_System.md](Shop_System.md) - 상점 시스템
  - [Stat_System.md](Stat_System.md) - 스탯 시스템

---

## 🎒 아이템 시스템 개요

### 핵심 컨셉
**아이템 (Items)**은 상점에서 골드로 구매하는 모든 것을 의미하며, 두 가지 카테고리로 나뉩니다:

1. **무기 (Weapons)**: 자동 공격 기능 + 스탯 변경
2. **장신구 (Accessories)**: 스탯 변경 + 특수 효과

### 드롭 오브젝트와의 차이
- **아이템**: 상점에서 **구매**, 영구적 효과
- **드롭 오브젝트**: 전투 중 **드롭**, 즉시 소비

### Brotato 스타일
- 무기와 장신구 모두 **스탯을 변경**
- Trade-off 시스템 (긍정 효과 + 부정 효과)
- 전략적 빌드 구성

### 주요 설계 결정 사항 (2025-12-09)
1. ✅ **무기 장착 제한**: 6개 (변경 불가)
2. ✅ **장신구 장착 제한**: 무제한 (Brotato 방식)
3. ✅ **중복 구매**: 허용 (같은 아이템 여러 개 구매 가능)
4. ✅ **Phase 1 범위**: 스탯 증가 아이템만 (특수 효과는 Phase 2)

---

## ⚔️ 1. 무기 (Weapons)

### 1.1 무기 개요

**정의**: 플레이어의 공격 수단
- **장착 제한**: 최대 6개 동시 장착
- **자동 공격**: 범위 내 가장 가까운 적을 자동 조준
- **스탯 변경**: 공격 기능 외에 플레이어 스탯에도 영향

### 1.2 무기 타입

#### 근접 무기 (Melee Weapons)

**특징**:
- 짧은 사거리 (1.0~2.0)
- 빠른 공격 속도
- 높은 데미지
- 넉백 효과

**예시**:
| 무기명 | 공격력 | 공격속도 | 사거리 | 긍정 효과 | 부정 효과 |
|:---|:---:|:---:|:---:|:---|:---|
| **검 (Sword)** | 15 | 1.0s | 1.5 | 공격속도 +5% | 이동속도 -5% |
| **단검 (Dagger)** | 8 | 0.5s | 1.2 | 이동속도 +10% | 최대 체력 -5 |
| **도끼 (Axe)** | 25 | 1.5s | 1.3 | 공격력 +10% | 공격속도 -10% |
| **창 (Spear)** | 12 | 1.2s | 2.0 | 사거리 +15% | 공격력 -5% |
| **해머 (Hammer)** | 30 | 2.0s | 1.0 | 넉백 +50% | 이동속도 -15% |

#### 원거리 무기 (Range Weapons)

**특징**:
- 긴 사거리 (4.0~7.0)
- 투사체 발사
- 중간 데미지
- 낮은 넉백

**예시**:
| 무기명 | 공격력 | 공격속도 | 사거리 | 긍정 효과 | 부정 효과 |
|:---|:---:|:---:|:---:|:---|:---|
| **활 (Bow)** | 10 | 1.0s | 5.0 | 사거리 +10% | 이동속도 -5% |
| **석궁 (Crossbow)** | 18 | 1.5s | 6.0 | 공격력 +8% | 공격속도 -10% |
| **지팡이 (Staff)** | 12 | 1.2s | 4.5 | 치명타 확률 +5% | 최대 체력 -8 |
| **권총 (Pistol)** | 8 | 0.6s | 4.0 | 공격속도 +15% | 공격력 -5% |
| **소총 (Rifle)** | 20 | 2.0s | 7.0 | 사거리 +20% | 이동속도 -10% |

### 1.3 무기 등급 시스템

| 등급 | 색상 | 스탯 배율 | 가격 범위 |
|:---:|:---:|:---:|:---:|
| Common | 회색 | 100% | 15~30 |
| Uncommon | 초록 | 130% | 40~70 |
| Rare | 파랑 | 170% | 90~150 |
| Legendary | 보라 | 250% | 200~350 |

### 1.4 무기 특수 효과 (제안)

#### Uncommon 효과
- **관통 (Pierce)**: 투사체가 적 2명 관통
- **분산 (Spread)**: 3발 분산 발사 (데미지 -30%)
- **회전 (Spin)**: 주변 360도 공격

#### Rare 효과
- **폭발 (Explosion)**: 명중 시 범위 데미지 (50%)
- **연쇄 (Chain)**: 최대 3명 연쇄 (데미지 -20%씩)
- **출혈 (Bleed)**: 3초간 초당 10% 데미지

#### Legendary 효과
- **전기 충격 (Lightning)**: 주변 5명에게 동일 데미지
- **유도탄 (Homing)**: 투사체가 적 추적
- **무한 관통 (Infinite Pierce)**: 모든 적 관통

### 1.5 무기 자동 조준

**타겟 선택**:
1. 무기 사거리 내 모든 적 탐색
2. 가장 가까운 적 선택
3. 무기를 해당 적 방향으로 회전
4. 공격 쿨다운 완료 시 공격

**무기 배치**:
- 플레이어 주변 원형 배치
- 무기 각도 = (360° / 무기 수) × 인덱스
- 각 무기는 독립적으로 회전 및 공격

---

## 💍 2. 장신구 (Accessories)

### 2.1 장신구 개요

**정의**: 플레이어를 강화하는 장비
- **장착 제한**: 없음 (또는 최대 10~12개)
- **스탯 변경**: 긍정 효과 + 부정 효과 (Trade-off)
- **특수 효과**: 고등급 장신구는 특별한 효과 보유

### 2.2 스탯 증가 장신구

#### Common 등급

| 장신구명 | 긍정 효과 | 부정 효과 | 가격 |
|:---|:---|:---|:---:|
| **강철 갑옷 (Steel Armor)** | 방어력 +5 | 이동속도 -5% | 30 |
| **속도의 부츠 (Speed Boots)** | 이동속도 +15% | 공격력 -5% | 25 |
| **힘의 팔찌 (Power Bracer)** | 공격력 +8% | 최대 체력 -5 | 30 |
| **작은 방패 (Small Shield)** | 최대 체력 +15 | 공격속도 -5% | 25 |
| **행운의 동전 (Lucky Coin)** | 행운 +10% | 공격력 -3% | 20 |

#### Uncommon 등급

| 장신구명 | 긍정 효과 | 부정 효과 | 가격 |
|:---|:---|:---|:---:|
| **뱀파이어의 송곳니 (Vampire Fang)** | 생명력 흡수 +5% | 최대 체력 -10 | 50 |
| **날카로운 칼날 (Sharp Blade)** | 공격력 +12% | 방어력 -5 | 40 |
| **사수의 눈 (Sniper's Eye)** | 사거리 +25% | 이동속도 -8% | 35 |
| **무한 탄창 (Infinite Ammo)** | 원거리 공격력 +25% | 근접 공격력 -15% | 70 |
| **광전사의 증표 (Berserker Token)** | 근접 공격력 +25% | 원거리 공격력 -15% | 70 |
| **회피의 망토 (Dodge Cloak)** | 회피율 +10% | 방어력 -8 | 60 |

#### Rare 등급

| 장신구명 | 긍정 효과 | 부정 효과 | 가격 |
|:---|:---|:---|:---:|
| **행운의 클로버 (Lucky Clover)** | 행운 +20% | 공격력 -10% | 60 |
| **거대화 물약 (Giant Potion)** | 최대 체력 +30 | 이동속도 -15% | 80 |
| **시간의 시계 (Chronos Watch)** | 공격속도 +20% | 공격력 -10% | 90 |
| **치명타의 반지 (Critical Ring)** | 크리티컬 확률 +15% | 공격속도 -8% | 120 |
| **강철 심장 (Steel Heart)** | 방어력 +20 | 공격속도 -15% | 100 |
| **질풍의 날개 (Wind Wings)** | 이동속도 +30% | 최대 체력 -15 | 90 |

#### Legendary 등급

| 장신구명 | 긍정 효과 | 부정 효과 | 가격 |
|:---|:---|:---|:---:|
| **신의 축복 (Divine Blessing)** | 모든 스탯 +8% | 행운 -20% | 400 |
| **파괴의 문장 (Emblem of Destruction)** | 공격력 +40% | 방어력 -50%, 최대 체력 -30 | 350 |
| **불사의 갑옷 (Immortal Armor)** | 최대 체력 +60, 방어력 +30 | 이동속도 -30%, 공격속도 -20% | 450 |
| **신속의 유물 (Relic of Speed)** | 공격속도 +40%, 이동속도 +40% | 공격력 -25%, 최대 체력 -25 | 420 |

### 2.3 특수 효과 장신구

#### Rare 등급 특수 장신구

| 장신구명 | 효과 | 부정 효과 | 가격 |
|:---|:---|:---|:---:|
| **가시 갑옷 (Thorns Armor)** | 피격 시 데미지의 50% 반사 | 이동속도 -10% | 100 |
| **회복의 목걸이 (Healing Necklace)** | 2초마다 체력 1 회복 | 공격력 -10% | 120 |
| **분노의 가면 (Berserker Mask)** | 체력 50% 이하 시 공격력 +40% | 방어력 -10 | 150 |
| **재생 (Regeneration)** | 3초간 피격 없을 시 빠른 체력 회복 | 최대 체력 -15 | 140 |
| **적 약화 (Weakening Aura)** | 주변 적 공격력 -25% | 이동속도 -10% | 160 |
| **생존 본능 (Survival Instinct)** | 체력 20% 이하 시 2초간 무적 (60초 쿨다운) | 공격력 -15% | 180 |

#### Legendary 등급 특수 장신구

| 장신구명 | 효과 | 부정 효과 | 가격 |
|:---|:---|:---|:---:|
| **이중 타격 (Double Strike)** | 15% 확률로 2번 공격 | 공격속도 -15% | 200 |
| **폭발 오라 (Explosive Aura)** | 모든 공격에 범위 데미지 추가 (50%) | 공격력 -20% | 180 |
| **순간 이동 (Blink)** | 회피 시 짧은 거리 순간 이동 (3 유닛) | 최대 체력 -20 | 250 |
| **시간 왜곡 (Time Warp)** | 8% 확률로 적 2초 정지 | 공격속도 -15% | 280 |
| **불사조의 깃털 (Phoenix Feather)** | 사망 시 1회 부활 (웨이브당 1회) | 최대 체력 -50% | 500 |
| **자기장 (Magnetic Field)** | 드롭 오브젝트 자동 수집 범위 3배 | 공격력 -15% | 220 |

---

## ⭐ 3. 공통 시스템

### 3.1 등급 시스템

| 등급 | 색상 | 효과 배율 | 무기 가격 | 장신구 가격 |
|:---:|:---:|:---:|:---:|:---:|
| Common | 회색 | 100% | 15~30 | 20~35 |
| Uncommon | 초록 | 130% | 40~70 | 50~80 |
| Rare | 파랑 | 170% | 90~150 | 100~180 |
| Legendary | 보라 | 250% | 200~350 | 250~500 |

### 3.2 스탯 변경 시스템

#### 플레이어 스탯 목록 (13가지)
- Damage (공격력)
- MeleeAttack (근접 공격력)
- RangeAttack (원거리 공격력)
- AttackSpeed (공격 속도)
- CriticalChance (치명타 확률)
- CriticalMultiplier (치명타 배율)
- MoveSpeed (이동 속도)
- MaxHealth (최대 체력)
- Range (사거리)
- HealthRecoverySpeed (체력 회복 속도)
- Armor (방어력)
- Luck (행운)
- Dodge (회피)
- LifeSteal (생명력 흡수)

#### 스탯 적용 방식
```
최종 스탯 = ((기본 스탯 + 추가 스탯) × 스탯 배율) × 0.01
```

### 3.3 Trade-off 시스템 (Brotato 스타일)

**핵심 원칙**:
- 모든 아이템은 **긍정 효과 + 부정 효과** 가짐
- 강력한 긍정 효과 = 큰 부정 효과
- 전략적 선택 유도

**밸런싱 가이드**:
| 긍정 효과 크기 | 부정 효과 크기 |
|:---:|:---:|
| +10% | -5% |
| +20% | -10% |
| +30% | -15% |
| +40% | -20~25% |

**예시**:
- 강철 갑옷: 방어력 +5 / 이동속도 -5%
- 파괴의 문장: 공격력 +40% / 방어력 -50%, 최대 체력 -30

---

## 🛒 4. 상점 시스템 연동

### 4.1 출현 확률

#### 무기 vs 장신구 비율
- 50% 무기
- 50% 장신구

#### 웨이브별 등급 확률

**웨이브 1~3**:
- Common: 70%
- Uncommon: 25%
- Rare: 5%
- Legendary: 0%

**웨이브 4~7**:
- Common: 50%
- Uncommon: 35%
- Rare: 13%
- Legendary: 2%

**웨이브 8~15**:
- Common: 30%
- Uncommon: 40%
- Rare: 22%
- Legendary: 8%

**웨이브 16+**:
- Common: 15%
- Uncommon: 35%
- Rare: 35%
- Legendary: 15%

### 4.2 행운(Luck) 스탯 영향

```
상위 등급 확률 = 기본 확률 × (1 + Luck / 100)
```

### 4.3 구매 프로세스

#### 무기 구매
1. 슬롯 클릭 → 아이템 정보 표시 (긍정/부정 효과)
2. 구매 버튼 클릭
3. 골드 충분 확인
4. **무기 인벤토리 공간 확인 (6개 제한)**
5. 스탯 적용 (긍정 + 부정)
6. 골드 차감
7. 슬롯 '품절' 처리

#### 장신구 구매
1. 슬롯 클릭 → 아이템 정보 표시 (긍정/부정 효과)
2. 구매 버튼 클릭
3. 골드 충분 확인
4. **즉시 스탯 적용** (긍정 + 부정)
5. 골드 차감
6. 슬롯 '품절' 처리
7. 보유 목록에 추가

---

## 📊 5. UI 시스템

### 5.1 무기 인벤토리 UI
```
+-------------------------------------------------------+
|  [장착 무기] (4/6)                                      |
+-------------------------------------------------------+
|   ⚔️     🏹     🗡️     🔨                           |
|  검     활    단검    해머                              |
|  Rare  Common Uncommon Rare                           |
+-------------------------------------------------------+
```

### 5.2 장신구 인벤토리 UI
```
+-------------------------------------------------------+
|  [보유 장신구] (6/∞)                                    |
+-------------------------------------------------------+
|  🛡️ 강철 갑옷         | +5 방어력 / -5% 이동속도      |
|  👟 속도의 부츠        | +15% 이동속도 / -5% 공격력    |
|  💍 치명타의 반지      | +15% 치명타 / -8% 공격속도    |
|  🧛 뱀파이어의 송곳니   | +5% 흡혈 / -10 최대 체력      |
|  ⚔️ 날카로운 칼날      | +12% 공격력 / -5 방어력       |
|  🍀 행운의 클로버      | +20% 행운 / -10% 공격력       |
+-------------------------------------------------------+
```

### 5.3 아이템 상세 정보 (툴팁)
```
+-------------------------------------------------------+
|  강철 갑옷 (Steel Armor)                    [Common]   |
+-------------------------------------------------------+
|  💰 가격: 30 골드                                      |
|                                                       |
|  ✅ 긍정 효과:                                         |
|     • 방어력 +5                                       |
|                                                       |
|  ❌ 부정 효과:                                         |
|     • 이동속도 -5%                                    |
|                                                       |
|  설명: 기본적인 방어구. 적의 공격으로부터 보호하지만   |
|        무게 때문에 약간 느려집니다.                     |
+-------------------------------------------------------+
```

---

## 🎯 6. 밸런싱 가이드

### 6.1 스탯 증가 기준 (Common 등급)

| 스탯 | 긍정 효과 | 부정 효과 (예시) |
|:---|:---:|:---|
| 공격력 | +5~10% | -5% 이동속도 또는 -5 최대 체력 |
| 근접/원거리 공격력 | +15~20% | -10~15% 반대 타입 |
| 공격 속도 | +10~15% | -5~8% 공격력 |
| 이동 속도 | +10~15% | -5~8% 공격력 또는 -5 최대 체력 |
| 최대 체력 | +15~20 | -5~8% 이동속도 |
| 방어력 | +5~8 | -5~8% 공격속도 또는 이동속도 |
| 사거리 | +15~20% | -5~10% 이동속도 |
| 크리티컬 확률 | +8~12% | -5~8% 공격속도 |
| 행운 | +10~15% | -5% 공격력 |
| 생명력 흡수 | +3~5% | -10~15 최대 체력 |

### 6.2 등급별 배율

| 등급 | 긍정 효과 배율 | 부정 효과 배율 |
|:---:|:---:|:---:|
| Common | 1.0x | 1.0x |
| Uncommon | 1.5x | 1.3x |
| Rare | 2.5x | 1.8x |
| Legendary | 4.0x | 2.5x |

### 6.3 경제 밸런싱

#### 웨이브당 권장 구매

| 웨이브 | 평균 골드 | 권장 구매 |
|:---:|:---:|:---|
| 1~3 | 80~120 | 무기 1개 + 장신구 2~3개 |
| 4~7 | 150~250 | 무기 1~2개 + 장신구 2~3개 |
| 8~15 | 300~500 | 고등급 무기 1개 + 고등급 장신구 2~3개 |
| 16+ | 500~800 | Legendary 1~2개 |

---

## 🔧 7. 빌드 전략 예시

### 7.1 근접 특화 빌드
**무기**:
- 검 ×2
- 도끼 ×1
- 창 ×1

**장신구**:
- 광전사의 증표 (근접 공격력 +25%)
- 속도의 부츠 (이동속도 +15%)
- 뱀파이어의 송곳니 (생명력 흡수 +5%)

**전략**: 높은 근접 데미지로 빠르게 적 처치, 생명력 흡수로 생존

### 7.2 원거리 특화 빌드
**무기**:
- 활 ×2
- 지팡이 ×2
- 석궁 ×1

**장신구**:
- 무한 탄창 (원거리 공격력 +25%)
- 사수의 눈 (사거리 +25%)
- 치명타의 반지 (크리티컬 +15%)

**전략**: 안전 거리 유지, 높은 사거리로 적 저격

### 7.3 생존 특화 빌드
**무기**:
- 검 ×2
- 창 ×1

**장신구**:
- 불사의 갑옷 (최대 체력 +60, 방어력 +30)
- 회복의 목걸이 (2초마다 체력 1 회복)
- 재생 (피격 없을 시 빠른 회복)

**전략**: 높은 체력과 방어력, 지속 회복으로 장기전

---

## 📝 8. 참고사항

### 8.1 Brotato와의 비교
- **유사점**:
  - 무기 6개 장착 시스템
  - 장신구로 스탯 강화
  - Trade-off 시스템 (긍정 + 부정)
  - 등급 시스템

- **차이점**:
  - 16비트 픽셀 아트 스타일
  - "장신구" 명칭 (Accessories)
  - (향후) 고유 아이템 및 효과 추가

### 8.2 확장 가능성
- **저주받은 아이템**: 매우 강력한 효과 + 심각한 패널티
- **세트 아이템**: 특정 조합 시 추가 효과
- **아이템 진화**: 같은 아이템 여러 개 획득 시 상위 등급 변환
- **아이템 합성**: 여러 아이템을 합쳐 새로운 아이템 생성

---

## 📞 문서 관리

### 업데이트 이력
- 2025-12-09: 초안 작성
- 2025-12-09: 무기/장신구 통합 문서로 재구성, Trade-off 시스템 추가

### 다음 작업
1. 추가 무기 20~30종 기획
2. 추가 장신구 30~50종 기획
3. Trade-off 밸런싱 테스트
4. 빌드 시너지 시스템 상세 기획

### 관련 문서
- [Item_System_Technical.md](../Technical/Item_System_Technical.md) - 기술 구현 문서
- [Drop_System.md](Drop_System.md) - 드롭 시스템 기획
- [Shop_System.md](Shop_System.md) - 상점 시스템 기획
- [GDD_Overview.md](../GDD_Overview.md) - 게임 전체 기획
